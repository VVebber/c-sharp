<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="../css/common.css">
  <title>Data input and output</title>
</head>
<body>
<div>
  <div class="flex background_black flex_dirction border_black content_center sticky-element">
    <header  id="header"></header>
  </div>

  <div class="flex">
    <div>
      <header class="flex background_gray les3 left_m sticky-element2" id="side_piece"></header>
    </div>

    <div class="lessen block">
      <h1>Ссылки и указатели</h1>
      <p>Ссылки и указатели - это важные концепции в языке программирования C#. Понимание этих концепций может помочь вам эффективнее использовать память и создавать более сложные структуры данных. Давайте рассмотрим их подробнее.      </p>
      <h2>Ссылки      </h2>
      <p>Ссылки - это переменные, которые хранят адрес в памяти, где хранится объект. Когда вы создаете объект в C#, вы фактически создаете ссылку на этот объект. В примере ниже мы создаем объект строки и сохраняем его ссылку в переменной `str`:      </p>
      <div class=" inline-flex border_gray2px les2 font_size20xp background_olive ">
        <div class="border-right_grin padding_left padding_right grey">
          <p id="integer">1</p>
        </div>
        <div class="font_size20xp">
          <p  class="white_space white padding_right"><code class="language-csharp">string str = "Hello World!";</code></p>  
        </div>
        </div>
        <p>Когда мы используем переменную `str`, мы на самом деле обращаемся к объекту строки, который находится в памяти. Мы можем использовать оператор `&` для получения адреса объекта в памяти:        </p>
        <div class=" inline-flex border_gray2px les2 font_size20xp background_olive ">
          <div class="border-right_grin padding_left padding_right grey">
            <p id="integer2">1</p>
          </div>
          <div class="font_size20xp">
            <p  class="white_space white padding_right"><code class="language-csharp">string str = "Hello World!";
Console.WriteLine(&str); // выводит адрес в памяти, например: 0x7ffeb63a4e90</code></p>  
          </div>
          </div>
          <p>Важно отметить, что переменная, которая хранит ссылку, не хранит сам объект, а только адрес его расположения в памяти. Это отличается от переменных, которые хранят значения, такие как числа и строки, которые хранят конкретные значения.          </p>
          <h2>Указатели</h2>
          <p>Указатели - это переменные, которые хранят адрес в памяти, где хранится значение. Они похожи на ссылки, но работают немного иначе. В языке C# прямой доступ к указателям недоступен, но есть возможность работы с ними через оператор `unsafe`.          </p>
          <p>Для использования указателей в C# нужно использовать ключевое слово `unsafe` вместе с блоком кода, в котором они используются. Пример:          </p>
          <div class=" inline-flex border_gray2px les2 font_size20xp background_olive ">
            <div class="border-right_grin padding_left padding_right grey">
              <p id="integer6">1</p>
            </div>
            <div class="font_size20xp">
              <p  class="white_space white padding_right"><code class="language-csharp">unsafe
{
    int value = 42;
    int* pointer = &value;
    Console.WriteLine(*pointer); // выводит значение переменной value (42)
}</code></p>  
            </div>
            </div>
            <p>Здесь мы объявляем переменную `value` и сохраняем ее адрес в указатель `pointer`. Мы затем используем оператор `*` для разыменования указателя и получения значения переменной `value`. Важно отметить, что работа с указателями может быть опасной, так как они могут приводить к непредсказуемым поведениям при неправильном использовании.            </p>
            <p>Пример использования ссылок и указателей<br>Рассмотрим пример, который показывает разницу между ссылками и указателями. В этом примере мы создаем массив чисел и изменяем его значения с помощью ссылок и указателей:            </p>
            <div class=" inline-flex border_gray2px les2 font_size20xp background_olive ">
              <div class="border-right_grin padding_left padding_right grey">
                <p id="integer24">1</p>
              </div>
              <div class="font_size20xp">
                <p  class="white_space white padding_right"><code class="language-csharp">using System;

class Program {
    static void Main(string[] args) {
        int[] numbers = { 1, 2, 3, 4, 5 };

        // Пример работы с указателями
        unsafe {
            fixed (int* p = numbers) {
                for (int i = 0; i < numbers.Length; i++) {
                    *(p + i) += 10;
                }
            }
        }

        // Пример работы со ссылками
        for (int i = 0; i < numbers.Length; i++) {
            ref int numRef = ref numbers[i];
            numRef += 10;
        }

        Console.WriteLine(string.Join(", ", numbers)); // Выводим результат: 21, 22, 23, 24, 25
    }
}</code></p>  
              </div>
              </div>
              <p>В данном примере мы создали массив `numbers` с пятью элементами. Затем мы произвели две операции над этим массивом: увеличили каждый элемент на 10.              </p>
              <p>Первый пример использует указатели. Мы объявляем указатель `p` на массив `numbers`, используя ключевое слово `fixed`. Затем мы используем операцию `*(p + i)` для обращения к элементам массива по указателю и увеличиваем каждый элемент на 10.              </p>
              <p>Второй пример использует ссылки. Мы объявляем ссылку `numRef` на каждый элемент массива `numbers` и используем операцию `+=` для увеличения значения каждого элемента на 10.              </p>
              <P>Оба примера приводят к одному и тому же результату: значения массива увеличиваются на 10. Однако использование ссылок гораздо проще и более безопасно, чем использование указателей.              </P>
              <P>Надеюсь, этот пример поможет вам лучше понять разницу между ссылками и указателями в C#.              </P>

    
        </div>
      </div>
    </div>
    <script src="../Javascript/One.js"></script>
    <script src="../Javascript/console.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-csharp.min.js"></script>
    <div style="height: 100px;     background: rgb(40, 42, 53); clear: both;">
      <p style="text-align: right">Если есть вопросы или нашли ошибку смело пишите мне <a href="mailto:malishevdanil@yandex.ru">Данилу М.В.</a></p></div>
    </div>
    </body>
    </html>